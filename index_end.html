<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>calculator</title>
    <style>

body {
padding-top:150px; 
text-align: center;
background-color: rgb(31, 29, 29);
}

input{
    width: 180px;
    height: 30px;
    margin-bottom: 10px;
}

button{
    padding: 5px 20px;
    width: 60px;
    margin-bottom: 5px;
    background-color: aqua;
    color: black;
    border: solid 1px aqua ;
    cursor: pointer;
}
button:hover{
    background-color:rgb(49, 204, 204)  ;
}
    </style>
</head>
<body>
    
<input  id="scr" type="number" readonly />
<br>
<input  id="sc" type="number"  readonly />
<br>
<button  id="0"  onclick="GetNum(0)"> 0</button>
<button id="1"   onclick="GetNum(1)"> 1</button>
<button id="2"   onclick="GetNum(2)" > 2</button>
<br>
<button id="3"  onclick="GetNum(3)" > 3</button>
<button id="4"  onclick="GetNum(4)"> 4</button>
<button id="5"  onclick="GetNum(5)"> 5</button>
<br>
<button id="6"  onclick="GetNum(6)"> 6</button>
<button id="7"  onclick="GetNum(7)"> 7</button>
<button id="8"  onclick="GetNum(8)"> 8</button>
<br>
<button id="9"  onclick="GetNum(9)" > 9</button>
<button id="mo" onclick= "Getoper( 'mo' )" >%</button>
<button   onclick="window.location.reload()">C</button>

<br>
<button  id="m" onclick="Getoper('m')" >-</button>
<button id="p"  onclick="Getoper( 'p' )">+</button>
<button id="mu" onclick="Getoper('mu')"> *</button>
<br>
<button id="d"    onclick="Getoper('d')"> /</button>
<button onclick="Getoper('t')"   > ^</button>
<button id="eq"   onclick="calc()" > = </button>
 
<script>

var scr = document.getElementById("scr");
var PrevNum =0;
var opertype='';
var val ={prev :null , new :null, total: null}
var listNim=false;

function GetNum(num){
    if(listNim){
        var res ;
        if(val.new){
           
          res =val.new +'' +num;
          val.new= res;
          scr.value =res;

        }else{
            res =val.prev +'' +num;
          val.prev= res;
          scr.value =res;
        }




    }else{
            scr.value =num;
        if(val.prev){
        val.new =num  ; 

    } else{
        
        val.prev =num;
    }
    listNim=true; 
    }
   
  
}



function Getoper(oper){
    console.log(val)
    opertype =oper;
     listNim=false;
}

function calc(){
    console.log('cal',val);
    if(!val.new){
        return;
    }
    if(val.new && val.prev && opertype){
    
      if(opertype === "p"){
        var Newval= Number(val.prev )+ Number(val.new );
        sc.value =Newval;
        val.prev=Newval;
      }
      if(opertype === "m"){
        var Newval= Number(val.prev) -Number(val.new );
        sc.value =Newval;
        val.prev=Newval;
      }
      if(opertype === "mu"){
        var Newval= Number(val.prev )* Number(val.new );
        sc.value =Newval;
        val.prev=Newval;
      }
      if(opertype === "d"){
        var Newval= Number(val.prev) / Number(val.new) ;
        sc.value =Newval;
        val.prev=Newval;
      } 
      if(opertype === "mo"){
        var Newval= Number(val.prev) % Number(val.new) ;
        sc.value =Newval;
        val.prev=Newval;
      
    }
    if(opertype === "t"){
        var Newval= Number(val.prev) ** Number(val.new) ;
        sc.value =Newval;
        val.prev=Newval;
      

}}
listNim = false;
}

</script>

</body>
</html>